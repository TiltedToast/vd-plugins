(function(o,r,d,u,l){"use strict";const g=r.findByProps("canUseStickersEverywhere"),s=r.findByProps("sendMessage","receiveMessage"),{getChannel:y}=r.findByStoreName("ChannelStore"),{getStickerById:p}=r.findByStoreName("StickersStore"),a=[];var h={onLoad:function(){a.push(d.instead("canUseStickersEverywhere",g,function(){return!0}));const n=s.sendStickers;a.push(d.instead("sendStickers",s,function(e){const i=e[0],c=e[1].map(function(t){return p(t)}).filter(function(t){return!S(t,i)});if(!c.length)return n(...e);const f=function(t){t&&(u.storage.acknowledgedApng=!0);const m=c.map(function(v){return k(v)}).join(`
`);s.sendMessage(i,{content:m})};c.find(function(t){return t.format_type==2})&&!u.storage.acknowledgedApng?l.showConfirmationAlert({title:"APNG stickers",content:"APNG stickers are not supported by FreeStickers and will be non-animated in chat. Do you want to send it anyway?",confirmText:"Send anyway",cancelText:"Cancel",onConfirm:function(){f(!0)}}):f()}))},onUnload:function(){a.forEach(function(n){return n?.()})}};function S(n,e){if(!n.guild_id)return!0;const i=y(e).guild_id;return n.guild_id==i}function k(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"160";return`https://media.discordapp.net/stickers/${n.id}.png?size=${e}`}return o.default=h,Object.defineProperty(o,"__esModule",{value:!0}),o})({},vendetta.metro,vendetta.patcher,vendetta.plugin,vendetta.ui.alerts);

(function(i,l,s,C,a,e,u,r){"use strict";const{createStyles:E}=a.findByProps("createStyles"),{Text:M,TextInput:N}=e.ReactNative,S=E({codeBlock:{fontFamily:e.constants.Fonts.CODE_NORMAL,fontSize:12,textAlignVertical:"center",backgroundColor:r.semanticColors.BACKGROUND_SECONDARY,color:r.semanticColors.TEXT_NORMAL,borderWidth:1,borderRadius:12,borderColor:r.semanticColors.BACKGROUND_TERTIARY,padding:10}}),b=function(o){let{style:t,children:n}=o;return React.createElement(N,{editable:!0,multiline:!0,style:[S().codeBlock,t&&t],value:n})};function d(o){let{selectable:t,style:n,children:c}=o;return React.createElement(b,{style:n,children:c})}const v=function(o){const t=JSON.parse(JSON.stringify(o));for(const n in t.author)switch(n){case"email":case"phone":case"mfaEnabled":case"hasBouncedEmail":delete t.author[n]}return t},{Button:f}=a.findByProps("Button","Stack"),{ScrollView:w}=e.ReactNative;function A(o){let{message:t}=o;const n=e.React.useMemo(function(){return JSON.stringify(v(t),null,4)},[t.id]),c={margin:8};return e.React.createElement(e.React.Fragment,null,e.React.createElement(w,{style:{flex:1}},e.React.createElement(f,{text:"Copy Raw Content",style:c,variant:"secondary",disabled:!t.content,onPress:function(){e.clipboard.setString(t.content),u.showToast("Copied content to clipboard",s.getAssetIDByName("toast_copy_link"))}}),e.React.createElement(f,{text:"Copy Raw Data",style:c,variant:"secondary",onPress:function(){e.clipboard.setString(n),u.showToast("Copied data to clipboard",s.getAssetIDByName("toast_copy_link"))}}),t.content&&e.React.createElement(d,{selectable:!0,style:c},t.content),e.React.createElement(d,{selectable:!0,style:c},n)))}const R=a.findByProps("openLazy","hideActionSheet"),{ActionSheetRow:y}=a.findByProps("ActionSheetRow"),p=a.findByProps("push","pushLazy","pop"),P=a.findByProps("getRenderCloseButton")?.getRenderCloseButton??a.findByProps("getHeaderCloseButton")?.getHeaderCloseButton,O=a.findByName("Navigator")??a.findByProps("Navigator")?.Navigator,k=l.before("openLazy",R,function(o){let[t,n,c]=o;const g=c?.message;n!=="MessageLongPressActionSheet"||!g||t.then(function(D){const I=l.after("default",D,function(z,_){e.React.useEffect(function(){return function(){I()}},[]);const h=C.findInReactTree(_,function(x){return x?.some?.(function(B){return B?.type?.name==="ButtonRow"||B?.type?.name==="ActionSheetRow"})});if(!h)return;const L=function(){return e.React.createElement(O,{initialRouteName:"RawPage",goBackOnBackPress:!0,screens:{RawPage:{title:"ViewRaw",headerLeft:P?.(function(){return p.pop()}),render:function(){return e.React.createElement(A,{message:g})}}}})};h.push(e.React.createElement(y,{label:"View Raw",icon:e.React.createElement(y.Icon,{source:s.getAssetIDByName("ChatIcon")}),onPress:function(){R.hideActionSheet(),p.push(L)}}))})})}),T=function(){return k()};return i.onUnload=T,i})({},vendetta.patcher,vendetta.ui.assets,vendetta.utils,vendetta.metro,vendetta.metro.common,vendetta.ui.toasts,vendetta.ui);

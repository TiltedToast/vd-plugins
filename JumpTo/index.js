(function(i,m,r,a,v,s,g,h){"use strict";const{FormIcon:b,FormRow:L}=h.Forms,P=s.getAssetIDByName("toast_copy_link");function A(e,t){return React.createElement(L,{label:"Jump To Reference",leading:React.createElement(b,{source:s.getAssetIDByName("ic_link_24px"),style:{opacity:1}}),onPress:function(){r.url.openDeeplink(e)},onLongPress:function(){r.clipboard.setString(e),g.showToast("Copied referenced message URL to clipboard",P),t()}})}const{FormIcon:k,FormRow:B}=h.Forms,E=s.getAssetIDByName("toast_copy_link");function F(e,t,n){const o=e[0].type;return React.createElement(o,{key:"jumpstartervd"},React.createElement(B,{label:"Jump To Starter Message",leading:React.createElement(k,{source:s.getAssetIDByName("ic_link_24px"),style:{opacity:1}}),onPress:function(){r.url.openDeeplink(t)},onLongPress:function(){r.clipboard.setString(t),g.showToast("Copied starter message URL to clipboard",E),n()}}))}const y=m.findByProps("openLazy","hideActionSheet"),I=m.findByName("ForumPostLongPressActionSheet",!1);let _=[];function R(e,t,n){return`https://discord.com/channels/${e}/${t}/${n}`}var S={onLoad:function(){const e=function(){return y.hideActionSheet()};_=[a.after("default",I,function(t,n){let[{thread:o}]=t;const c=v.findInReactTree(n,function(d){return d.props?.bottom===!0}).props.children.props.children[1],u=R(o.guild_id,o.id,o.id);c.unshift(F(c,u,e))}),a.before("openLazy",y,function(t){const[n,o,c]=t;o=="MessageLongPressActionSheet"&&n.then(function(u){const d=a.after("default",u,function(w,D){r.React.useEffect(function(){return function(){d()}},[]);const[$,l]=D.props?.children?.props?.children?.props?.children,f=$?.props?.message??c?.message;if(!f||!l||!f.messageReference?.message_id)return;l.find(function(T){return!!T.props.message});const p=f.messageReference,N=R(p.guild_id,p.channel_id,p.message_id);l.push(A(N,e))})})})]},onUnload:function(){_.forEach(function(e){return e?.()})}};return i.default=S,Object.defineProperty(i,"__esModule",{value:!0}),i})({},vendetta.metro,vendetta.metro.common,vendetta.patcher,vendetta.utils,vendetta.ui.assets,vendetta.ui.toasts,vendetta.ui.components);

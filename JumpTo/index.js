(function(s,p,r,a,m,c,g,h){"use strict";const{FormIcon:v,FormRow:L}=h.Forms,P=c.getAssetIDByName("toast_copy_link");function A(e,t){return React.createElement(L,{label:"Jump To Reference",leading:React.createElement(v,{source:c.getAssetIDByName("ic_link_24px"),style:{opacity:1}}),onPress:function(){r.url.openDeeplink(e)},onLongPress:function(){r.clipboard.setString(e),g.showToast("Copied referenced message URL to clipboard",P),t()}})}const{FormIcon:B,FormRow:I}=h.Forms,k=c.getAssetIDByName("toast_copy_link");function E(e,t,n){const o=e[0].type;return React.createElement(o,{key:"jumpstartervd"},React.createElement(I,{label:"Jump To Starter Message",leading:React.createElement(B,{source:c.getAssetIDByName("ic_link_24px"),style:{opacity:1}}),onPress:function(){r.url.openDeeplink(t)},onLongPress:function(){r.clipboard.setString(t),g.showToast("Copied starter message URL to clipboard",k),n()}}))}const y=p.findByProps("openLazy","hideActionSheet"),F=p.findByName("ForumPostLongPressActionSheet",!1);let R=[];function _(e,t,n){return`https://discord.com/channels/${e}/${t}/${n}`}var S={onLoad:function(){const e=function(){return y.hideActionSheet()};R=[a.after("default",F,function(t,n){let[{thread:o}]=t;const i=m.findInReactTree(n,function(d){return d.props?.bottom===!0}).props.children.props.children[1],u=_(o.guild_id,o.id,o.id);i.unshift(E(i,u,e))}),a.before("openLazy",y,function(t){let[n,o,i]=t;o=="MessageLongPressActionSheet"&&n.then(function(u){const d=a.after("default",u,function(w,D){r.React.useEffect(function(){return function(){d()}},[]);const b=m.findInReactTree(D,function($){return $?.[0]?.type?.name==="ButtonRow"}),l=i?.message;if(!l||!b||!l.messageReference?.message_id)return;const f=l.messageReference,T=_(f.guild_id,f.channel_id,f.message_id);b.push(A(T,e))})})})]},onUnload:function(){R.forEach(function(e){return e?.()})}};return s.default=S,Object.defineProperty(s,"__esModule",{value:!0}),s})({},vendetta.metro,vendetta.metro.common,vendetta.patcher,vendetta.utils,vendetta.ui.assets,vendetta.ui.toasts,vendetta.ui.components);

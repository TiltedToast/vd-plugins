(function(a,s,r,u,v,i,g,m){"use strict";const{FormRow:b}=m.Forms,L=s.findByName("Icon"),P=i.getAssetIDByName("toast_copy_link");function A(e,n){return React.createElement(b,{label:"Jump To Reference",leading:React.createElement(L,{source:i.getAssetIDByName("ic_link_24px")}),onPress:function(){r.url.openDeeplink(e)},onLongPress:function(){r.clipboard.setString(e),g.showToast("Copied referenced message URL to clipboard",P),n()}})}const{FormRow:B}=m.Forms,k=s.findByName("Icon"),E=i.getAssetIDByName("toast_copy_link");function I(e,n,t){const o=e[0].type;return React.createElement(o,{key:"jumpstartervd"},React.createElement(B,{leading:React.createElement(k,{source:i.getAssetIDByName("ic_link_24px")}),label:"Jump To Starter Message",onPress:function(){r.url.openDeeplink(n)},onLongPress:function(){r.clipboard.setString(n),g.showToast("Copied starter message URL to clipboard",E),t()}}))}const h=s.findByProps("openLazy","hideActionSheet"),N=s.findByName("ForumPostLongPressActionSheet",!1);let y=[];function _(e,n,t){return`https://discord.com/channels/${e}/${n}/${t}`}var S={onLoad:function(){const e=function(){return h.hideActionSheet()};y=[u.after("default",N,function(n,t){let[{thread:o}]=n;const c=v.findInReactTree(t,function(l){return l.props?.bottom===!0}).props.children.props.children[1],d=_(o.guild_id,o.id,o.id);c.unshift(I(c,d,e))}),u.before("openLazy",h,function(n){const[t,o,c]=n;o=="MessageLongPressActionSheet"&&t.then(function(d){const l=u.after("default",d,function(T,D){r.React.useEffect(function(){return function(){l()}},[]);const[$,R]=D.props?.children?.props?.children?.props?.children,f=$?.props?.message??c?.message;if(!f||!R||!f.messageReference?.message_id)return;const p=f.messageReference,F=_(p.guild_id,p.channel_id,p.message_id);R.push(A(F,e))})})})]},onUnload:function(){y.forEach(function(e){return e?.()})}};return a.default=S,Object.defineProperty(a,"__esModule",{value:!0}),a})({},vendetta.metro,vendetta.metro.common,vendetta.patcher,vendetta.utils,vendetta.ui.assets,vendetta.ui.toasts,vendetta.ui.components);

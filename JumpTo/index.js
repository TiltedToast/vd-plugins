(function(i,p,r,a,v,s,m,g){"use strict";const{FormIcon:b,FormRow:L}=g.Forms,P=s.getAssetIDByName("toast_copy_link");function A(e,t){return React.createElement(L,{label:"Jump To Reference",leading:React.createElement(b,{source:s.getAssetIDByName("ic_link_24px"),style:{opacity:1}}),onPress:function(){r.url.openDeeplink(e)},onLongPress:function(){r.clipboard.setString(e),m.showToast("Copied referenced message URL to clipboard",P),t()}})}const{FormIcon:k,FormRow:E}=g.Forms,F=s.getAssetIDByName("toast_copy_link");function I(e,t,n){const o=e[0].type;return React.createElement(o,{key:"jumpstartervd"},React.createElement(E,{label:"Jump To Starter Message",leading:React.createElement(k,{source:s.getAssetIDByName("ic_link_24px"),style:{opacity:1}}),onPress:function(){r.url.openDeeplink(t)},onLongPress:function(){r.clipboard.setString(t),m.showToast("Copied starter message URL to clipboard",F),n()}}))}const h=p.findByProps("openLazy","hideActionSheet"),S=p.findByName("ForumPostLongPressActionSheet",!1);let y=[];function _(e,t,n){return`https://discord.com/channels/${e}/${t}/${n}`}var B={onLoad:function(){const e=function(){return h.hideActionSheet()};y=[a.after("default",S,function(t,n){let[{thread:o}]=t;const c=v.findInReactTree(n,function(d){return d.props?.bottom===!0}).props.children.props.children[1],u=_(o.guild_id,o.id,o.id);c.unshift(I(c,u,e))}),a.before("openLazy",h,function(t){const[n,o,c]=t;o=="MessageLongPressActionSheet"&&n.then(function(u){const d=a.after("default",u,function(T,D){r.React.useEffect(function(){return function(){d()}},[]);const[$,R]=D.props?.children?.props?.children?.props?.children,l=$?.props?.message??c?.message;if(!l||!R||!l.messageReference?.message_id)return;const f=l.messageReference,N=_(f.guild_id,f.channel_id,f.message_id);R.push(A(N,e))})})})]},onUnload:function(){y.forEach(function(e){return e?.()})}};return i.default=B,Object.defineProperty(i,"__esModule",{value:!0}),i})({},vendetta.metro,vendetta.metro.common,vendetta.patcher,vendetta.utils,vendetta.ui.assets,vendetta.ui.toasts,vendetta.ui.components);

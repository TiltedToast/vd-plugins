(function(s,g,r,a,h,c,y,R){"use strict";const{TouchableOpacity:L}=R.General,P=c.getAssetIDByName("toast_copy_link");function A(t,e,n){return React.createElement(L,{onPress:function(){r.url.openDeeplink(e)},onLongPress:function(){r.clipboard.setString(e),y.showToast("Copied referenced message URL to clipboard",P),n()}},React.createElement(t,{message:"Jump To Reference",iconSource:c.getAssetIDByName("ic_link_24px")}))}const{FormIcon:B,FormRow:S}=R.Forms,k=c.getAssetIDByName("toast_copy_link");function E(t,e,n){const o=t[0].type;return React.createElement(o,{key:"jumpstartervd"},React.createElement(S,{label:"Jump To Starter Message",leading:React.createElement(B,{source:c.getAssetIDByName("ic_link_24px"),style:{opacity:1}}),onPress:function(){r.url.openDeeplink(e)},onLongPress:function(){r.clipboard.setString(e),y.showToast("Copied starter message URL to clipboard",k),n()}}))}const _=g.findByProps("openLazy","hideActionSheet"),I=g.findByName("ForumPostLongPressActionSheet",!1);let b=[];function v(t,e,n){return`https://discord.com/channels/${t}/${e}/${n}`}var T={onLoad:function(){const t=function(){return _.hideActionSheet()};b=[a.after("default",I,function(e,n){let[{thread:o}]=e;const i=h.findInReactTree(n,function(d){return d.props?.bottom===!0}).props.children.props.children[1],u=v(o.guild_id,o.id,o.id);i.unshift(E(i,u,t))}),a.before("openLazy",_,function(e){let[n,o,i]=e;o=="MessageLongPressActionSheet"&&n.then(function(u){const d=a.after("default",u,function(N,D){r.React.useEffect(function(){return function(){d()}},[]);const f=h.findInReactTree(D,function(m){return m?.[0]?.type?.name==="ButtonRow"}),$=f.find(function(m){return m.type.name==="ButtonRow"}).type,l=i?.message;if(!l||!f||!l.messageReference?.message_id)return;const p=l.messageReference,w=v(p.guild_id,p.channel_id,p.message_id);f.push(A($,w,t))})})})]},onUnload:function(){b.forEach(function(t){return t?.()})}};return s.default=T,Object.defineProperty(s,"__esModule",{value:!0}),s})({},vendetta.metro,vendetta.metro.common,vendetta.patcher,vendetta.utils,vendetta.ui.assets,vendetta.ui.toasts,vendetta.ui.components);

(function(l,o,c,u,i,m,g,L){"use strict";function h(e,n,t){return`https://discord.com/channels/${e??"@me"}/${n}/${t}`}function P(e){return h(e.guildId,e.id,e.id)}const{hideActionSheet:v}=o.findByProps("openLazy","hideActionSheet"),{ActionSheetRow:d}=o.findByProps("ActionSheetRow"),B=o.findByName("ForumPostLongPressActionSheet",!1),k=i.getAssetIDByName("toast_copy_link");var b=u.after("default",B,function(e,n){let[{thread:t}]=e;const s=g.findInReactTree(n,function(f){return f?.[0]?.type?.name==="ActionSheetRowGroup"});if(!s)return;const r=P(t);s.unshift(React.createElement(d.Group,{key:"jumptovd"},React.createElement(d,{label:"Jump To Starter Message",icon:React.createElement(d.Icon,{source:i.getAssetIDByName("ic_copy_message_link")}),onPress:function(){c.url.openDeeplink(r)},onLongPress:function(){c.clipboard.setString(r),m.showToast("Copied starter message URL",k),v()}})))});const{TouchableOpacity:E}=L.General,y=o.findByProps("openLazy","hideActionSheet"),T=i.getAssetIDByName("toast_copy_link");var w=u.before("openLazy",y,function(e){let[n,t,s]=e;t=="MessageLongPressActionSheet"&&n.then(function(r){const f=u.after("default",r,function(z,C){React.useEffect(function(){return function(){f()}},[]);let R,S;const _=g.findInReactTree(C,function(N){const p=N?.find?.(function(I){return I.type.name==="ButtonRow"&&I.props.IconComponent});return p?(R=p.type,S=p.props.IconComponent,!0):!1}),a=s?.message?.messageReference;if(!a?.message_id||!_)return;const A=h(a.guild_id,a.channel_id,a.message_id);_.push(React.createElement(E,{onLongPress:function(){c.clipboard.setString(A),m.showToast("Copied referenced message URL",T),y.hideActionSheet()},onPress:function(){c.url.openDeeplink(A)}},React.createElement(R,{message:"Jump To Reference",iconSource:i.getAssetIDByName("ic_copy_message_link"),IconComponent:S})))})})});const D=[b,w],U=function(){return D.forEach(function(e){return e?.()})};return l.onUnload=U,l})({},vendetta.metro,vendetta.metro.common,vendetta.patcher,vendetta.ui.assets,vendetta.ui.toasts,vendetta.utils,vendetta.ui.components);

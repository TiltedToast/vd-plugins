(function(l,p,s,c,i,o,h,d,R){"use strict";const{FormInput:C,FormRow:b,FormSection:g,FormText:v}=d.Forms,{ScrollView:B}=d.General,u=[{label:"Pending reply bar color",key:"replyBarColor",default:"#949cf7"},{label:"Pending reply background color",key:"replyBgColor",default:"#949cf730"},{label:"Pending edit bar color",key:"editBarColor",default:"#00aa5d"},{label:"Pending edit background color",key:"editBgColor",default:"#00aa5d30"}],f=function(e){return u.forEach(function(t){e&&delete o.storage[t.key],o.storage[t.key]??=t.default})};f();function k(){return h.useProxy(o.storage),React.createElement(B,null,React.createElement(g,{title:"Colors",titleStyleType:"no_border"},React.createElement(c.ReactNative.FlatList,{data:u,renderItem:function(e){let{item:t}=e;return React.createElement(C,{title:t.label,placeholder:"#RRGGBBAA",value:o.storage[t.key],onChange:function(r){return o.storage[t.key]=r}})}}),React.createElement(v,{style:{paddingHorizontal:14}},"Leave empty to use Discord colors")),React.createElement(g,{title:"Misc"},React.createElement(b,{label:"Restore plugin defaults",onPress:function(){f(),R.showToast("Restored plugin defaults.")}})))}const E=s.findByName("ChatInput"),F=s.findByName("RowManager");let y;const w=[i.after("generate",F.prototype,function(e,t){let[r]=e;if(r.rowType!==1)return;let a,n;y==r.message?.id?(a=o.storage.replyBarColor,n=o.storage.replyBgColor):r.isEditing&&(a=o.storage.editBarColor,n=o.storage.editBgColor);try{m(a)&&(t.backgroundHighlight.gutterColor=c.ReactNative.processColor(a)),m(n)&&(t.backgroundHighlight.backgroundColor=c.ReactNative.processColor(n))}catch{p.logger.error(`Failed to set highlight colors for message ${r.message?.id}`)}}),i.after("render",E.prototype,function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];y=t[1].props.children[1]?.props?.pendingReply?.message?.id})],P=function(){return w.forEach(function(e){return e()})},N=k;function m(e){return!e?.startsWith("#")||e?.length<7?null:e}return l.onUnload=P,l.settings=N,l})({},vendetta,vendetta.metro,vendetta.metro.common,vendetta.patcher,vendetta.plugin,vendetta.storage,vendetta.ui.components,vendetta.ui.toasts);

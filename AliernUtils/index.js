(function(a,e,b,r,c,o,g){"use strict";const{FormIcon:i,FormSection:l,FormSwitchRow:s}=c.Forms,{ScrollView:h}=c.General;e.storage.AlwaysTabsV2??=!0,e.storage.ChatAnimations??=!0,e.storage.NoLinkMarkdown??=!1;function A(t){return function(){return b.useProxy(e.storage),React.createElement(h,null,React.createElement(l,{title:"Useful experiments",titleStyleType:"no_border"},React.createElement(s,{label:"Tabs v2",subLabel:"Enable Tabs v2",leading:React.createElement(i,{source:r.getAssetIDByName("ic_mobile_device")}),value:e.storage.AlwaysTabsV2,onValueChange:function(n){e.storage.AlwaysTabsV2=n,t()}}),React.createElement(s,{label:"Chat animations (Android)",subLabel:"Enable chat animations for Android",leading:React.createElement(i,{source:r.getAssetIDByName("ic_chat")}),value:e.storage.ChatAnimations,onValueChange:function(n){e.storage.ChatAnimations=n,t()}})),React.createElement(l,{title:"Misc"},React.createElement(s,{label:"Disable message link markdown",subLabel:"Disable markdown for message links",value:e.storage.NoLinkMarkdown,onValueChange:function(n){e.storage.NoLinkMarkdown=n,t()}})))}}const{toggleTabsUIManually:u}=o.findByProps("toggleTabsUIManually");function y(){return u(e.storage.AlwaysTabsV2),function(){u(!1)}}const{ChatListAnimationExperiment:w}=o.findByProps("ChatListAnimationExperiment");function C(){try{const t=w.getCurrentConfig();return t.shouldAnimateAndroid=e.storage.ChatAnimations,function(){t.shouldAnimateAndroid=!1}}catch{return function(){}}}const E=o.findByName("createMessageContent",!1);function k(){if(e.storage.NoLinkMarkdown)return g.after("default",E,function(t){const n=t?.[0]?.message;n?.content&&(n.content=n.content.replace(/(https?:\/\/discord.com\/channels\/[\w\/]+)/g,"<$1>"))})}let m=[];function d(){f(),m=[y(),C(),k()]}function f(){m?.forEach(function(t){return t?.()})}d();const v=A(d),L=function(){return f()};return a.onUnload=L,a.settings=v,a})({},vendetta.plugin,vendetta.storage,vendetta.ui.assets,vendetta.ui.components,vendetta.metro,vendetta.patcher);

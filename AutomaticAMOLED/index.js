(function(l,o,n,e,s){"use strict";const{FormSwitchRow:d}=s.Forms,{ScrollView:c}=s.General;function u(){return React.createElement(c,null,React.createElement(d,{label:"Disable AMOLED theme when light theme is enabled",subLabel:"AMOLED + light theme causes issues on 174.6 and above.",value:n.storage.disableWhenLight,onValueChange:function(t){n.storage.disableWhenLight=t}}))}const g=o.findByProps("setAMOLEDThemeEnabled"),b=o.findByStoreName("ThemeStore"),m=o.findByStoreName("UnsyncedUserSettingsStore");var E={onLoad:function(){try{n.storage.disableWhenLight??=!0;const t=b.theme||"dark",i=m.useAMOLEDTheme,a=t=="dark",r=i==2,h=n.storage.disableWhenLight;e.logger.log(`Current theme: ${t}, dark mode: ${a}`),e.logger.log(`AMOLED value: ${i}, enabled: ${r}`),e.logger.log(`Disable when light: ${h}`),a&&!r?(e.logger.log("Enabling AMOLED"),g.setAMOLEDThemeEnabled(!0)):!a&&r&&h?(e.logger.log("Disabling AMOLED since dark theme is not enabled"),g.setAMOLEDThemeEnabled(!1)):e.logger.log("No need to change preferences")}catch(t){e.logger.error("Failed to load AutomaticAmoled",t)}},settings:u};return l.default=E,Object.defineProperty(l,"__esModule",{value:!0}),l})({},vendetta.metro,vendetta.plugin,vendetta,vendetta.ui.components);
